{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/scypion/Programing/Java_Projects/My_Projects/holiday_scheduler/frontend/src/componenets/calendar.js\";\nimport Axios from \"axios\";\nimport React, { Component } from \"react\";\nimport Controls from \"./controls\";\nimport \"../styles/style.css\";\nimport interceptors from \"../interceptor/interceptor\";\n\nclass Calendar extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      users: [],\n      vacations: [],\n      initialDate: {\n        month: (\"0\" + (new Date().getMonth() + 1)).slice(-2),\n        year: new Date().getFullYear()\n      },\n      initialPagination: {\n        pageNo: 0,\n        pageSize: 10,\n        sortBy: \"lastName\",\n        sortOrder: \"ASC\"\n      }\n    };\n  }\n\n  async componentDidMount() {\n    var URL = \"http://localhost:8080/calendar/page\";\n    await Axios.get(URL, {\n      params: {\n        pageNo: this.state.initialPagination.pageNo,\n        pageSize: this.state.initialPagination.pageSize,\n        sortBy: this.state.initialPagination.sortBy,\n        sortOrder: this.state.initialPagination.sortOrder,\n        month: this.state.initialDate.month,\n        year: this.state.initialDate.year\n      },\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    }).then(res => {\n      console.log(res.data);\n      this.setState({\n        users: res.data\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Controls, {\n        header: \"Calendar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"calendarTable\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"calendarHeadCell\",\n              children: \"Employees\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 25\n            }, this), this.renderTableHead()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: this.renderTableBody()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this);\n  }\n\n  renderTableHead() {\n    const initDate = new Date(this.state.initialDate.year, this.state.initialDate.month, 1);\n    const currentMonth = this.state.initialDate.month;\n    const currentYear = this.state.initialDate.year;\n    var days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n    const dates = [];\n    const daysOfWeek = [];\n    var i = 0;\n    var monthLength = daysInMonth(currentMonth, currentYear);\n\n    for (i = 1; i <= monthLength; i++) {\n      var currentDay = returnDayFormat(i);\n      dates.push(currentDay + \"/\" + currentMonth + \"/\" + currentYear);\n      daysOfWeek.push(days[new Date(currentYear, currentMonth - 1, i).getDay()]);\n    }\n\n    this.state.dates = dates;\n    return daysOfWeek.map((date, index) => {\n      return /*#__PURE__*/_jsxDEV(\"th\", {\n        className: \"calendarHeadCell\",\n        children: date\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 25\n      }, this);\n    });\n  }\n\n  renderTableBody() {\n    return this.state.users.map((user, index) => {\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"calendarNameButton\",\n            children: [user.userDto.firstName, \" \", user.userDto.lastName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 17\n        }, this), this.renderTableRowsDate(user.holidayStatus)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }, this);\n    });\n  }\n\n  renderTableRowsDate(holidayStatus) {\n    return holidayStatus.map((date, index) => {\n      var buttonClassName = returnVacationTypeTag(date);\n      return /*#__PURE__*/_jsxDEV(\"td\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dateTag\",\n          children: this.state.dates[index]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"vacationButton \" + buttonClassName,\n          children: date\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this);\n    });\n  }\n\n}\n\nexport default Calendar;\n\nfunction daysInMonth(month, year) {\n  return new Date(year, month, 0).getDate();\n}\n\nfunction returnDayFormat(day) {\n  return (\"0\" + day).slice(-2);\n}\n\nfunction returnVacationTypeTag(dayStatus) {\n  switch (dayStatus) {\n    case 'PAYED':\n      return 'payedVacationButton';\n\n    case 'UNPAID':\n      return 'payedUnpaidButton';\n\n    case 'SICK':\n      return 'payedSickButton';\n\n    case 'MATERNITY':\n      return 'payedMaternityButton';\n\n    case 'BEREAVEMENT':\n      return 'payedBereavementButton';\n\n    case 'SABBATICAL':\n      return 'payedSabbaticalButton';\n\n    default:\n      return \"noVacation\";\n  }\n}","map":{"version":3,"sources":["/home/scypion/Programing/Java_Projects/My_Projects/holiday_scheduler/frontend/src/componenets/calendar.js"],"names":["Axios","React","Component","Controls","interceptors","Calendar","state","users","vacations","initialDate","month","Date","getMonth","slice","year","getFullYear","initialPagination","pageNo","pageSize","sortBy","sortOrder","componentDidMount","URL","get","params","headers","then","res","console","log","data","setState","render","renderTableHead","renderTableBody","initDate","currentMonth","currentYear","days","dates","daysOfWeek","i","monthLength","daysInMonth","currentDay","returnDayFormat","push","getDay","map","date","index","user","userDto","firstName","lastName","renderTableRowsDate","holidayStatus","buttonClassName","returnVacationTypeTag","getDate","day","dayStatus"],"mappings":"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","sourcesContent":["import Axios from \"axios\";\nimport React, {Component} from \"react\";\nimport Controls from \"./controls\"\nimport \"../styles/style.css\"\nimport interceptors from \"../interceptor/interceptor\";\n\nclass Calendar extends Component {\n    \n    state = {\n        users: [],\n        vacations: [],\n        initialDate: {\n            month: (\"0\" + (new Date().getMonth() + 1)).slice(-2),\n            year: new Date().getFullYear()\n        },\n        initialPagination: {\n            pageNo: 0,\n            pageSize: 10,\n            sortBy: \"lastName\",\n            sortOrder: \"ASC\"\n        }\n    }\n        \n    async componentDidMount() {\n        \n          var URL = \"http://localhost:8080/calendar/page\"\n\n        await Axios.get(URL, {\n            params:{\n                pageNo: this.state.initialPagination.pageNo,\n                pageSize: this.state.initialPagination.pageSize,\n                sortBy: this.state.initialPagination.sortBy,\n                sortOrder: this.state.initialPagination.sortOrder,\n                month: this.state.initialDate.month,\n                year: this.state.initialDate.year\n            },\n            headers: {\n                \"Content-Type\": \"multipart/form-data\"\n            }\n        }).then(res => {\n            console.log(res.data)\n            this.setState({users: res.data})\n        })\n    }\n\n\n    render () {\n        return (\n            <div>\n                <Controls header = {\"Calendar\"}/>\n                <table className=\"calendarTable\">\n                <thead>\n                    <tr>\n                        <th className=\"calendarHeadCell\">\n                            Employees\n                        </th>\n                        {this.renderTableHead()}\n                    </tr>\n                </thead>\n                <tbody>\n                    {this.renderTableBody()}\n                </tbody>\n            </table>\n            </div>\n\n        )\n    }\n\n    renderTableHead () {\n\n        const initDate = new Date(this.state.initialDate.year, this.state.initialDate.month, 1);\n\n        const currentMonth = this.state.initialDate.month;\n        const currentYear = this.state.initialDate.year;\n\n        var days = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];\n\n        const dates = []\n        const daysOfWeek = []\n        var i = 0;\n        var monthLength = daysInMonth(currentMonth, currentYear)\n\n        for(i = 1; i <= monthLength; i++){\n            var currentDay = returnDayFormat(i);\n            dates.push(currentDay + \"/\" + currentMonth + \"/\" + currentYear);\n            daysOfWeek.push(days[new Date(currentYear, currentMonth-1, i).getDay()])\n        }\n\n        this.state.dates = dates;\n        \n\n\n        return daysOfWeek.map((date, index) => {\n            return (\n                        <th className=\"calendarHeadCell\">\n                            {date}\n                        </th>\n                )\n            }\n        )\n    }\n\n    renderTableBody() {\n\n        return( this.state.users.map((user, index) => {\n            return(\n            <tr>\n                <th><button className=\"calendarNameButton\">{user.userDto.firstName} {user.userDto.lastName}</button></th>\n                {this.renderTableRowsDate(user.holidayStatus)}\n\n            </tr>\n            )\n        }))\n    }\n\n    renderTableRowsDate(holidayStatus) {\n\n        return( \n            holidayStatus.map((date, index) => {\n\n                var buttonClassName = returnVacationTypeTag(date)\n\n            return(\n                <td>\n                    \n                    <div className=\"dateTag\">{this.state.dates[index]}</div>\n                    <button className={\"vacationButton \" + buttonClassName}>{date}</button>\n                </td>\n            )\n        }))\n    }\n    \n}\n\nexport default Calendar\n\nfunction daysInMonth (month, year) { \n    return new Date(year, month, 0).getDate(); \n} \n\nfunction returnDayFormat(day) {\n    return (\"0\" + day).slice(-2);\n}\n\nfunction returnVacationTypeTag(dayStatus){\n    switch (dayStatus) {\n        case 'PAYED':\n            return 'payedVacationButton'\n        case 'UNPAID':\n            return 'payedUnpaidButton'\n        case 'SICK':\n            return 'payedSickButton'\n        case 'MATERNITY':\n            return 'payedMaternityButton'\n        case 'BEREAVEMENT':\n            return 'payedBereavementButton'\n        case 'SABBATICAL':\n            return 'payedSabbaticalButton'\n        default:\n            return \"noVacation\"\n      }\n}"]},"metadata":{},"sourceType":"module"}