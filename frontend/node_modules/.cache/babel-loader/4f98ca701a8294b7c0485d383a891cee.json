{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/scypion/Programing/Java_Projects/My_Projects/holiday_scheduler/frontend/src/sites/calendar.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchCalendar } from '../actions/fetchCalendar';\nimport Headerbar from \"../componenets/headerbar\";\nimport CalendarControls from \"../componenets/calendarControls\";\n\nconst Calendar = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const records = useSelector(state => state.recordReducer);\n  const [calendarPagination, setCalendarPagination] = useState({\n    pageNo: 0,\n    pageSize: 10,\n    sortBy: \"lastName\",\n    sortOrder: \"ASC\",\n    month: (\"0\" + (new Date().getMonth() + 1)).slice(-2),\n    year: new Date().getFullYear()\n  });\n  useEffect(() => {\n    dispatch(fetchCalendar(calendarPagination));\n  }, [calendarPagination]);\n\n  function daysInMonth(month, year) {\n    return new Date(year, month, 0).getDate();\n  }\n\n  function returnDayFormat(day) {\n    return (\"0\" + day).slice(-2);\n  }\n\n  function returnVacationTypeTag(dayStatus) {\n    switch (dayStatus) {\n      case 'PAYED':\n        return 'payedVacationButton';\n\n      case 'UNPAID':\n        return 'payedUnpaidButton';\n\n      case 'SICK':\n        return 'payedSickButton';\n\n      case 'MATERNITY':\n        return 'payedMaternityButton';\n\n      case 'BEREAVEMENT':\n        return 'payedBereavementButton';\n\n      case 'SABBATICAL':\n        return 'payedSabbaticalButton';\n\n      default:\n        return \"noVacation\";\n    }\n  }\n\n  var daysOfMonth = mapDaysOfWeek();\n\n  function mapDaysOfWeek() {\n    const currentMonth = calendarPagination.month;\n    const currentYear = calendarPagination.year;\n    var days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n    const dates = [];\n    var i;\n    var monthLength = daysInMonth(currentMonth, currentYear);\n\n    for (i = 1; i <= monthLength; i++) {\n      var currentDay = returnDayFormat(i);\n      dates.push({\n        date: currentDay + \"/\" + currentMonth + \"/\" + currentYear,\n        day: days[new Date(currentYear, currentMonth - 1, i).getDay()]\n      });\n    }\n\n    return dates;\n  }\n\n  const renderTableHead = () => {\n    console.log(\"THESE ARE RECORD\");\n    console.log(records);\n    return daysOfMonth.map((date, index) => {\n      return /*#__PURE__*/_jsxDEV(\"th\", {\n        className: \"calendarHeadCell\",\n        children: date.day\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }, this);\n    });\n  };\n\n  const renderTableBody = () => {\n    return records.map((record, index) => {\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"calendarNameButton\",\n            children: [record.userDto.firstName, \" \", record.userDto.lastName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 17\n        }, this), renderTableRowsDate(record.holidayStatus)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }, this);\n    });\n  };\n\n  const renderTableRowsDate = holidayStatus => {\n    return holidayStatus.map((date, index) => {\n      var buttonClassName = returnVacationTypeTag(date);\n      return /*#__PURE__*/_jsxDEV(\"td\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dateTag\",\n          children: daysOfMonth[index].date\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"vacationButton \" + buttonClassName,\n          children: date\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(CalendarControls, {\n      header: \"Calendar\",\n      setPagination: setCalendarPagination\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Headerbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"calendarTable\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"calendarHeadCell\",\n            children: \"Employees\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 21\n          }, this), renderTableHead()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: renderTableBody()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Calendar, \"DkdPaC31bRsvHTAqAdGQNF5HiAg=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Calendar;\nexport default Calendar;\n\nvar _c;\n\n$RefreshReg$(_c, \"Calendar\");","map":{"version":3,"sources":["/home/scypion/Programing/Java_Projects/My_Projects/holiday_scheduler/frontend/src/sites/calendar.js"],"names":["React","useState","useEffect","useDispatch","useSelector","fetchCalendar","Headerbar","CalendarControls","Calendar","dispatch","records","state","recordReducer","calendarPagination","setCalendarPagination","pageNo","pageSize","sortBy","sortOrder","month","Date","getMonth","slice","year","getFullYear","daysInMonth","getDate","returnDayFormat","day","returnVacationTypeTag","dayStatus","daysOfMonth","mapDaysOfWeek","currentMonth","currentYear","days","dates","i","monthLength","currentDay","push","date","getDay","renderTableHead","console","log","map","index","renderTableBody","record","userDto","firstName","lastName","renderTableRowsDate","holidayStatus","buttonClassName"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport { useDispatch, useSelector} from 'react-redux';\nimport { fetchCalendar } from '../actions/fetchCalendar'\nimport Headerbar from \"../componenets/headerbar\"\nimport CalendarControls from \"../componenets/calendarControls\"\n\nconst Calendar = () => {\n\n    const dispatch = useDispatch();\n    const records = useSelector((state) => state.recordReducer)\n    const [calendarPagination, setCalendarPagination] = useState({       \n        pageNo: 0,\n        pageSize: 10,\n        sortBy: \"lastName\",\n        sortOrder: \"ASC\",\n        month: (\"0\" + (new Date().getMonth() + 1)).slice(-2),\n        year: new Date().getFullYear()\n    })\n\n    useEffect(() => {\n        dispatch(fetchCalendar(calendarPagination))\n    }, [calendarPagination]);\n\n    function daysInMonth (month, year) { \n        return new Date(year, month, 0).getDate(); \n    } \n    \n    function returnDayFormat(day) {\n        return (\"0\" + day).slice(-2);\n    }\n    \n    function returnVacationTypeTag(dayStatus){\n        switch (dayStatus) {\n            case 'PAYED':\n                return 'payedVacationButton'\n            case 'UNPAID':\n                return 'payedUnpaidButton'\n            case 'SICK':\n                return 'payedSickButton'\n            case 'MATERNITY':\n                return 'payedMaternityButton'\n            case 'BEREAVEMENT':\n                return 'payedBereavementButton'\n            case 'SABBATICAL':\n                return 'payedSabbaticalButton'\n            default:\n                return \"noVacation\"\n          }\n    }\n\n    var daysOfMonth = mapDaysOfWeek()\n    \n    function mapDaysOfWeek() {\n        const currentMonth = calendarPagination.month;\n        const currentYear = calendarPagination.year;\n    \n        var days = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];\n    \n        const dates = []\n        var i;\n        var monthLength = daysInMonth(currentMonth, currentYear)\n    \n        for(i = 1; i <= monthLength; i++){\n            var currentDay = returnDayFormat(i);\n\n            dates.push(\n                {\n                    date: currentDay + \"/\" + currentMonth + \"/\" + currentYear,\n                    day: days[new Date(currentYear, currentMonth-1, i).getDay()]\n                }\n            )\n        }\n        return dates;\n    }\n\n    const renderTableHead = () => {\n\n        console.log(\"THESE ARE RECORD\")\n        console.log(records)\n        return( daysOfMonth.map((date, index) => {\n            return (\n                    <th className=\"calendarHeadCell\">\n                        {date.day}\n                    </th>\n                )\n            }\n        ))\n    }\n\n    const renderTableBody = () => {\n\n        return( records.map((record, index) => {\n            return(\n            <tr key={index}>\n                <th><button className=\"calendarNameButton\">\n                    {record.userDto.firstName} {record.userDto.lastName}\n                    </button></th>\n                {renderTableRowsDate(record.holidayStatus)}\n            </tr>\n            )\n        }))\n    }\n\n    const renderTableRowsDate = (holidayStatus) => {\n\n        return( \n            holidayStatus.map((date, index) => {\n                var buttonClassName = returnVacationTypeTag(date)\n            return(\n                <td>\n                    <div className=\"dateTag\">{daysOfMonth[index].date}</div>\n                    <button className={\"vacationButton \" + buttonClassName}>{date}</button>\n                </td>\n            )\n        }))\n    }\n\n    return (\n        <div>\n            <CalendarControls \n                header = {\"Calendar\"}\n                setPagination = {setCalendarPagination}\n            />\n\n<Headerbar /> \n            <table className=\"calendarTable\">\n            <thead>\n                <tr>\n                    <th className=\"calendarHeadCell\">\n                        Employees\n                    </th>\n                    {renderTableHead()}\n                </tr>\n            </thead>\n            <tbody>\n                {renderTableBody()}\n            </tbody>\n        </table>\n        </div>\n    )\n    \n}\n\nexport default Calendar\n\n"]},"metadata":{},"sourceType":"module"}